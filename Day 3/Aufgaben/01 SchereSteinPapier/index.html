<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SCHERE, STEIN, PAPIER</title>
</head>
<body>
  <script>
    function spiele(spielzugSpielerUpperCase, spielzugComputerUpperCase){
      if(spielzugSpielerUpperCase == "SCHERE"){
        if(spielzugComputerUpperCase == "SCHERE"){
          return "Unentschieden";
        }
        if(spielzugComputerUpperCase == "STEIN"){
          return "Computer gewinnt";
        }
        if(spielzugComputerUpperCase == "PAPIER"){
          return "Spieler gewinnt";
        }
      }

      if(spielzugSpielerUpperCase == "STEIN"){
        if(spielzugComputerUpperCase == "SCHERE"){
          return "Spieler gewinnt";
        }
        if(spielzugComputerUpperCase == "STEIN"){
          return "Unentschieden";
        }
        if(spielzugComputerUpperCase == "PAPIER"){
          return "Computer gewinnt";
        }
      }

      if(spielzugSpielerUpperCase == "PAPIER"){
        if(spielzugComputerUpperCase == "SCHERE"){
          return "Computer gewinnt";
        }
        if(spielzugComputerUpperCase == "STEIN"){
          return "Spieler gewinnt";
        }
        if(spielzugComputerUpperCase == "PAPIER"){
          return "Unentschieden";
        }
      }

      return "Fehler";
    }

    var erlaubt = ["Schere", "Stein", "Papier"];
    var erlaubtUpperCase = ["SCHERE", "STEIN", "PAPIER"];

    var spielzugSpieler = window.prompt("Dein Spielzug:");
    var spielzugSpielerUpperCase = spielzugSpieler.toUpperCase();

    if(erlaubtUpperCase.indexOf(spielzugSpielerUpperCase) == -1){
      alert('Der eingegebene Speilzug ist nicht erlaubt!');
      throw new Error('Unerlaubter Spielzug.');
    } else {
      alert('Du hast ' + spielzugSpieler + ' eingegeben.');

      var spielzugComputer = erlaubt[Math.floor(Math.random()*erlaubt.length)];
      var spielzugComputerUpperCase = spielzugComputer.toUpperCase();

      alert('Der Computer spielt ' + spielzugComputer + '.');

      var resultat = spiele(spielzugSpielerUpperCase, spielzugComputerUpperCase);
      alert('Das Endergebnis lautet: ' + resultat);
    }

  </script>
</body>
</html>
